(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{20:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"e",(function(){return s})),a.d(t,"f",(function(){return u})),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return f})),a.d(t,"d",(function(){return p}));var n=a(12),r=a.n(n),c=a(13),l=a(14),o=a(17);function i(e){var t=e.toUpperCase().split(" ");return t.length>1?t[0][0]+t[1][0]:t[0][0]}function s(e){return e?Object.keys(e):[]}function u(e){return e?Object.keys(e).map((function(t){return Object(o.a)(Object(o.a)({},e[t]),{},{id:t})})):[]}function m(e,t,a,n){return d.apply(this,arguments)}function d(){return(d=Object(l.a)(r.a.mark((function e(t,a,n,l){var o,i,s,u,m,d,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o={})["/profiles/".concat(t,"/").concat(a)]=n,i=l.ref("/messages").orderByChild("author/uid").equalTo(t).once("value"),s=l.ref("/rooms").orderByChild("lastMessage/author/uid").equalTo(t).once("value"),e.next=6,Promise.all([i,s]);case 6:return u=e.sent,m=Object(c.a)(u,2),d=m[0],f=m[1],d.forEach((function(e){o["/messages/".concat(e.key,"/author/").concat(a)]=n})),f.forEach((function(e){o["/rooms/".concat(e.key,"/lastMessage/author/").concat(a)]=n})),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return e.reduce((function(e,a){var n=t(a);return e[n]||(e[n]=[]),e[n].push(a),e}),{})}var p=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},206:function(e,t,a){e.exports=a(372)},211:function(e,t,a){},372:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(33),l=a.n(c),o=a(64),i=(a(210),a(211),a(10)),s=a(29),u=a(393),m=a(392),d=a(12),f=a.n(d),p=a(14),b=a(13),h=a(24),E=a.n(h),v=a(7),g={state:"offline",last_changed:E.a.database.ServerValue.TIMESTAMP},k={state:"online",last_changed:E.a.database.ServerValue.TIMESTAMP},O=Object(n.createContext)(),j=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(b.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(!0),s=Object(b.a)(i,2),u=s[0],m=s[1];return Object(n.useEffect)((function(){var e,t,a,n=v.a.onAuthStateChanged(function(){var n=Object(p.a)(f.a.mark((function n(r){var c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=21;break}if(t=v.b.ref("/status/".concat(r.uid)),(e=v.b.ref("/profiles/".concat(r.uid))).on("value",(function(e){var t=e.val(),a={name:t.name,createdAt:t.createdAt,avatar:t.avatar,uid:r.uid,email:r.email};o(a),m(!1)})),v.b.ref(".info/connected").on("value",(function(e){!1!==!!e.val()&&t.onDisconnect().set(g).then((function(){t.set(k)}))})),!v.d){n.next=19;break}return n.prev=6,n.next=9,v.d.getToken();case 9:if(!(c=n.sent)){n.next=13;break}return n.next=13,v.b.ref("/fcm_tokens/".concat(c)).set(r.uid);case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(6),console.log("An error occurred while retrieving token. ",n.t0);case 18:a=v.d.onTokenRefresh(Object(p.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.d.getToken();case 3:if(!(t=e.sent)){e.next=7;break}return e.next=7,v.b.ref("/fcm_tokens/".concat(t)).set(r.uid);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("An error occurred while retrieving token. ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))));case 19:n.next=27;break;case 21:e&&e.off(),t&&t.off(),a&&a(),v.b.ref(".info/connected").off(),o(null),m(!1);case 27:case"end":return n.stop()}}),n,null,[[6,15]])})));return function(e){return n.apply(this,arguments)}}());return function(){n(),v.b.ref(".info/connected").off(),e&&e.off(),a&&a(),t&&t.off()}}),[]),r.a.createElement(O.Provider,{value:{isLoading:u,profile:l}},t)},x=function(){return Object(n.useContext)(O)},w=function(e){var t=e.children,a=Object(s.a)(e,["children"]),n=x(),c=n.profile,l=n.isLoading;return l&&!c?r.a.createElement(u.a,null,r.a.createElement(m.a,{center:!0,vertical:!0,size:"md",content:"Loading",speed:"slow"})):c||l?r.a.createElement(i.b,a,t):r.a.createElement(i.a,{to:"/signin"})},y=a(390),C=a(389),N=a(388),S=a(398),T=a(387),D=a(99),I=a(65),L=a(385);function A(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n.useState)(e),a=Object(b.a)(t,2),r=a[0],c=a[1],l=Object(n.useCallback)((function(){return c(!0)}),[]),o=Object(n.useCallback)((function(){return c(!1)}),[]);return{isOpen:r,open:l,close:o}}var U=function(e){var t=Object(n.useState)((function(){return window.matchMedia(e).matches})),a=Object(b.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t=window.matchMedia(e);c(t.matches);var a=function(e){return c(e.matches)};return t.addListener(a),function(){return t.removeListener(a)}}),[e]),r};var F=a(378),H=a(201),M=function(e){var t=e.initialValue,a=e.onSave,c=e.label,l=void 0===c?null:c,o=e.placeholder,i=void 0===o?"Write your value":o,u=e.emptyMsg,m=void 0===u?"Input is empty":u,d=e.wrapperClassName,h=void 0===d?"":d,E=Object(s.a)(e,["initialValue","onSave","label","placeholder","emptyMsg","wrapperClassName"]),v=Object(n.useState)(t),g=Object(b.a)(v,2),k=g[0],O=g[1],j=Object(n.useState)(!1),x=Object(b.a)(j,2),w=x[0],y=x[1],C=Object(n.useCallback)((function(e){O(e)}),[]),N=Object(n.useCallback)((function(){y((function(e){return!e})),O(t)}),[t]),S=function(){var e=Object(p.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===(n=k.trim())&&T.a.info(m,4e3),n===t){e.next=5;break}return e.next=5,a(n);case 5:y(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:h},l,r.a.createElement(F.a,null,r.a.createElement(H.a,Object.assign({},E,{disabled:!w,placeholder:i,value:k,onChange:C})),r.a.createElement(F.a.Button,{onClick:N},r.a.createElement(I.a,{icon:w?"close":"edit2"})),w&&r.a.createElement(F.a.Button,{onClick:S},r.a.createElement(I.a,{icon:"check"}))))},R=a(25),B=a(17),z=a(386),P=function(){var e=Object(n.useState)({"google.com":v.a.currentUser.providerData.some((function(e){return"google.com"===e.providerId})),"facebook.com":v.a.currentUser.providerData.some((function(e){return"facebook.com"===e.providerId}))}),t=Object(b.a)(e,2),a=t[0],c=t[1],l=function(e,t){c((function(a){return Object(B.a)(Object(B.a)({},a),{},Object(R.a)({},e,t))}))},o=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,1!==v.a.currentUser.providerData.length){e.next=3;break}throw new Error("You can not disconnect from ".concat(t));case 3:return e.next=5,v.a.currentUser.unlink(t);case 5:l(t,!1),T.a.info("Disconnected from ".concat(t),4e3),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),T.a.error(e.t0.message,4e3);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.currentUser.linkWithPopup(t);case 3:T.a.info("Linked to ".concat(t.providerId),4e3),l(t.providerId,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),T.a.error(e.t0.message,400);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,a["google.com"]&&r.a.createElement(z.a,{color:"green",closable:!0,onClose:function(){o("google.com")}},r.a.createElement(I.a,{icon:"google"})," Connected"),a["facebook.com"]&&r.a.createElement(z.a,{color:"blue",closable:!0,onClose:function(){o("facebook.com")}},r.a.createElement(I.a,{icon:"facebook"})," Connected"),r.a.createElement("div",{className:"mt-2"},!a["google.com"]&&r.a.createElement(D.a,{block:!0,color:"green",onClick:function(){i(new E.a.auth.GoogleAuthProvider)}},r.a.createElement(I.a,{icon:"google"})," Link to Google"),!a["facebook.com"]&&r.a.createElement(D.a,{block:!0,color:"blue",onClick:function(){i(new E.a.auth.FacebookAuthProvider)}},r.a.createElement(I.a,{icon:"facebook"})," Link to Facebook")))},V=a(379),q=a(189),Y=a.n(q),Q=a(399),_=a(20),G=function(e){var t=e.name,a=Object(s.a)(e,["name"]);return r.a.createElement(Q.a,Object.assign({circle:!0},a),Object(_.a)(t))},K=["image/png","image/jpeg","image/pjpeg"],J=function(e){return new Promise((function(t,a){e.toBlob((function(e){e?t(e):a(new Error("File process error"))}))}))},W=function(){var e=A(),t=e.isOpen,a=e.open,c=e.close,l=x().profile,o=Object(n.useState)(null),i=Object(b.a)(o,2),s=i[0],u=i[1],m=Object(n.useState)(!1),d=Object(b.a)(m,2),h=d[0],E=d[1],g=Object(n.useRef)(),k=function(){var e=Object(p.a)(f.a.mark((function e(){var t,a,n,r,c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.current.getImageScaledToCanvas(),E(!0),e.prev=2,e.next=5,J(t);case 5:return a=e.sent,n=v.e.ref("/profile/".concat(l.uid)).child("avatar"),e.next=9,n.put(a,{cacheControl:"public, max-age=".concat(259200)});case 9:return r=e.sent,e.next=12,r.ref.getDownloadURL();case 12:return c=e.sent,e.next=15,Object(_.b)(l.uid,"avatar",c,v.b);case 15:return o=e.sent,e.next=18,v.b.ref().update(o);case 18:E(!1),T.a.info("Avatar has been uploaded",4e3),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(2),E(!1),T.a.error(e.t0.message,4e3);case 26:case"end":return e.stop()}}),e,null,[[2,22]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"mt-3 text-center"},r.a.createElement(G,{src:l.avatar,name:l.name,className:"width-200 height-200 img-fullsize font-huge"}),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"avatar-upload",className:"d-block cursor-pointer padded"},"Select new avatar",r.a.createElement("input",{id:"avatar-upload",type:"file",className:"d-none",accept:".png, .jpeg, .jpg",onChange:function(e){var t=e.target.files;if(1===t.length){var n=t[0];!function(e){return K.includes(e.type)}(n)?T.a.warning("Wrong file type ".concat(n.type),4e3):(u(n),a())}}})),r.a.createElement(V.a,{show:t,onHide:c},r.a.createElement(V.a.Header,null,r.a.createElement(V.a.Title,null,"Adjust and upload new avatar")),r.a.createElement(V.a.Body,null,r.a.createElement("div",{className:"d-flex justify-content-center align-items-center h-100"},s&&r.a.createElement(Y.a,{ref:g,image:s,width:200,height:200,border:10,borderRadius:100,rotate:0}))),r.a.createElement(V.a.Footer,null,r.a.createElement(D.a,{block:!0,appearance:"ghost",onClick:k,disabled:h},"Upload new avatar")))))},Z=function(e){var t=e.onSignOut,a=x().profile,n=function(){var e=Object(p.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(_.b)(a.uid,"name",t,v.b);case 3:return n=e.sent,e.next=6,v.b.ref().update(n);case 6:T.a.success("Nickname has been updated",4e3),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),T.a.error(e.t0.message,4e3);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Title,null,"Dashboard")),r.a.createElement(L.a.Body,null,r.a.createElement("h3",null,"Hey, ",a.name),r.a.createElement(P,null),r.a.createElement(S.a,null),r.a.createElement(M,{name:"nickname",initialValue:a.name,onSave:n,label:r.a.createElement("h6",{className:"mb-2"},"Nickname")}),r.a.createElement(W,null)),r.a.createElement(L.a.Footer,null,r.a.createElement(D.a,{block:!0,color:"red",onClick:t},"Sign out")))},X=function(){var e=A(),t=e.isOpen,a=e.close,c=e.open,l=U("(max-width: 992px)"),o=Object(n.useCallback)((function(){v.b.ref("/status/".concat(v.a.currentUser.uid)).set(g).then((function(){v.a.signOut(),T.a.info("Signed out",4e3),a()})).catch((function(e){T.a.error(e.message,4e3)}))}),[a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{block:!0,color:"blue",onClick:c},r.a.createElement(I.a,{icon:"dashboard"})," Dashboard"),r.a.createElement(L.a,{full:l,show:t,onHide:a,placement:"left"},r.a.createElement(Z,{onSignOut:o})))},$=a(397),ee=a(396),te=a(380),ae=a(395),ne=a(384),re=$.a.Types.StringType,ce=$.a.Model({name:re().isRequired("Chat name is required"),description:re().isRequired("Description is required")}),le={name:"",description:""},oe=function(){var e=A(),t=e.isOpen,a=e.open,c=e.close,l=Object(n.useState)(le),o=Object(b.a)(l,2),i=o[0],s=o[1],u=Object(n.useState)(!1),m=Object(b.a)(u,2),d=m[0],h=m[1],g=Object(n.useRef)(),k=Object(n.useCallback)((function(e){s(e)}),[]),O=function(){var e=Object(p.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.current.check()){e.next=2;break}return e.abrupt("return");case 2:return h(!0),t=Object(B.a)(Object(B.a)({},i),{},{createdAt:E.a.database.ServerValue.TIMESTAMP,admins:Object(R.a)({},v.a.currentUser.uid,!0),fcmUsers:Object(R.a)({},v.a.currentUser.uid,!0)}),e.prev=4,e.next=7,v.b.ref("rooms").push(t);case 7:T.a.info("".concat(i.name," has been created"),4e3),h(!1),s(le),c(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),h(!1),T.a.error(e.t0.message,4e3);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"mt-1"},r.a.createElement(D.a,{block:!0,color:"green",onClick:a},r.a.createElement(I.a,{icon:"creative"})," Create new chat room"),r.a.createElement(V.a,{show:t,onHide:c},r.a.createElement(V.a.Header,null,r.a.createElement(V.a.Title,null,"New chat room")),r.a.createElement(V.a.Body,null,r.a.createElement(ee.a,{fluid:!0,onChange:k,formValue:i,model:ce,ref:g},r.a.createElement(te.a,null,r.a.createElement(ae.a,null,"Room name"),r.a.createElement(ne.a,{name:"name",placeholder:"Enter chat room name..."})),r.a.createElement(te.a,null,r.a.createElement(ae.a,null,"Description"),r.a.createElement(ne.a,{componentClass:"textarea",rows:5,name:"description",placeholder:"Enter room description..."})))),r.a.createElement(V.a.Footer,null,r.a.createElement(D.a,{block:!0,appearance:"primary",onClick:O,disabled:d},"Create new chat room"))))},ie=a(382),se=a(94),ue=function(e){var t=e.room,a=t.createdAt,n=t.name,c=t.lastMessage;return r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement("h3",{className:"text-disappear"},n),r.a.createElement(se.a,{datetime:c?new Date(c.createdAt):new Date(a),className:"font-normal text-black-45"})),r.a.createElement("div",{className:"d-flex align-items-center text-black-70"},c?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(G,{src:c.author.avatar,name:c.author.name,size:"sm"})),r.a.createElement("div",{className:"text-disappear ml-2"},r.a.createElement("div",{className:"italic"},c.author.name),r.a.createElement("span",null,c.text||c.file.name))):r.a.createElement("span",null,"No messages yet...")))},me=Object(n.createContext)(),de=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(b.a)(a,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){var e=v.b.ref("rooms");return e.on("value",(function(e){var t=Object(_.f)(e.val());o(t)})),function(){e.off()}}),[]),r.a.createElement(me.Provider,{value:l},t)},fe=function(){return Object(n.useContext)(me)},pe=function(e){var t=e.aboveElHeight,a=fe(),n=Object(i.g)();return r.a.createElement(ie.a,{appearance:"subtle",vertical:!0,reversed:!0,className:"overflow-y-scroll custom-scroll",style:{height:"calc(100% - ".concat(t,"px)")},activeKey:n.pathname},!a&&r.a.createElement(m.a,{center:!0,vertical:!0,content:"Loading",speed:"slow",size:"md"}),a&&a.length>0&&a.map((function(e){return r.a.createElement(ie.a.Item,{componentClass:o.b,to:"/chat/".concat(e.id),key:e.id,eventKey:"/chat/".concat(e.id)},r.a.createElement(ue,{room:e}))})))},be=function(){var e=Object(n.useRef)(),t=Object(n.useState)(0),a=Object(b.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){e.current&&l(e.current.scrollHeight)}),[e]),r.a.createElement("div",{className:"h-100 pt-2"},r.a.createElement("div",{ref:e},r.a.createElement(X,null),r.a.createElement(oe,null),r.a.createElement(S.a,null,"Join conversation")),r.a.createElement(pe,{aboveElHeight:c}))},he=a(394),Ee=a(137),ve=Object(Ee.a)(),ge=function(e){var t=e.children,a=e.data;return r.a.createElement(ve.Provider,{value:a},t)},ke=function(e){return Object(Ee.b)(ve,e)},Oe=Object(n.memo)((function(){var e=A(),t=e.isOpen,a=e.close,n=e.open,c=ke((function(e){return e.description})),l=ke((function(e){return e.name}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{appearance:"link",className:"px-0",onClick:n},"Room information"),r.a.createElement(V.a,{show:t,onHide:a},r.a.createElement(V.a.Header,null,r.a.createElement(V.a.Title,null,"About ",l)),r.a.createElement(V.a.Body,null,r.a.createElement("h6",{className:"mb-1"},"Description"),r.a.createElement("p",null,c)),r.a.createElement(V.a.Footer,null,r.a.createElement(D.a,{block:!0,onClick:a},"Close"))))})),je=Object(n.memo)((function(){var e=A(),t=e.isOpen,a=e.open,n=e.close,c=Object(i.h)().chatId,l=U("(max-width: 992px)"),o=ke((function(e){return e.name})),s=ke((function(e){return e.description})),u=function(e,t){v.b.ref("rooms/".concat(c)).child(e).set(t).then((function(){T.a.success("Successfully updated",4e3)})).catch((function(e){T.a.error(e.message,4e3)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{className:"br-circle",size:"sm",color:"red",onClick:a},"A"),r.a.createElement(L.a,{full:l,show:t,onHide:n,placement:"right"},r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Title,null,"Edit Room")),r.a.createElement(L.a.Body,null,r.a.createElement(M,{initialValue:o,onSave:function(e){u("name",e)},label:r.a.createElement("h6",{className:"mb-2"},"Name"),emptyMsg:"Name can not be empty"}),r.a.createElement(M,{componentClass:"textarea",rows:5,initialValue:s,onSave:function(e){u("description",e)},emptyMsg:"Description can not be empty",wrapperClassName:"mt-3"})),r.a.createElement(L.a.Footer,null,r.a.createElement(D.a,{block:!0,onClick:n},"Close"))))})),xe=$.a.Types.StringType,we=$.a.Model({title:xe().isRequired("Title is required"),message:xe().isRequired("Message body is required")}),ye={title:"",message:""},Ce=function(){var e=Object(i.h)().chatId,t=A(),a=t.isOpen,c=t.open,l=t.close,o=Object(n.useState)(ye),s=Object(b.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)(!1),h=Object(b.a)(d,2),E=h[0],g=h[1],k=Object(n.useRef)(),O=Object(n.useCallback)((function(e){m(e)}),[]),j=function(){var t=Object(p.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k.current.check()){t.next=2;break}return t.abrupt("return");case 2:return g(!0),t.prev=3,a=v.c.httpsCallable("sendFcm"),t.next=7,a(Object(B.a)({chatId:e},u));case 7:g(!1),m(ye),l(),T.a.info("Notification has been sent",7e3),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),T.a.error(t.t0.message,7e3);case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{appearance:"primary",size:"xs",onClick:c},r.a.createElement(I.a,{icon:"podcast"})," Broadcast message"),r.a.createElement(V.a,{show:a,onHide:l},r.a.createElement(V.a.Header,null,r.a.createElement(V.a.Title,null,"Send notification to room users")),r.a.createElement(V.a.Body,null,r.a.createElement(ee.a,{fluid:!0,onChange:O,formValue:u,model:we,ref:k},r.a.createElement(te.a,null,r.a.createElement(ae.a,null,"Title"),r.a.createElement(ne.a,{name:"title",placeholder:"Enter message title..."})),r.a.createElement(te.a,null,r.a.createElement(ae.a,null,"Message"),r.a.createElement(ne.a,{componentClass:"textarea",rows:5,name:"message",placeholder:"Enter notification message..."})))),r.a.createElement(V.a.Footer,null,r.a.createElement(D.a,{block:!0,appearance:"primary",onClick:j,disabled:E},"Publish message"))))},Ne=a(202),Se=function(){var e=Object(i.h)().chatId,t=ke((function(e){return e.isReceivingFcm})),a=A(),n=a.isOpen,c=a.close,l=a.open;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{icon:r.a.createElement(I.a,{icon:"podcast"}),color:"blue",size:"sm",circle:!0,appearance:t?"default":"ghost",onClick:l}),r.a.createElement(V.a,{show:n,onHide:c,size:"xs",backdrop:"static"},r.a.createElement(V.a.Header,null,r.a.createElement(V.a.Title,null,"Notifications permission")),r.a.createElement(V.a.Body,null,t?r.a.createElement("div",{className:"text-center"},r.a.createElement(I.a,{className:"text-green mb-3",icon:"check-circle",size:"5x"}),r.a.createElement("h6",null,"You are subscribed to broadcast messages sent by admins of this room.")):r.a.createElement("div",{className:"text-center"},r.a.createElement(I.a,{className:"text-blue mb-3",icon:"question-circle",size:"5x"}),r.a.createElement("h6",null,"Do you want to subscribe to messages sent by admins of this room?")),r.a.createElement("p",{className:"mt-2"},"To receive notifications make sure you allow Notifactions in your browser"),r.a.createElement("p",null,"Permission:"," ","granted"===Notification.permission?r.a.createElement("span",{className:"text-green"},"Granted"):r.a.createElement("span",{className:"text-red"},"Denied"))),r.a.createElement(V.a.Footer,null,t?r.a.createElement(D.a,{color:"green",onClick:function(){v.b.ref("/rooms/".concat(e,"/fcmUsers")).child(v.a.currentUser.uid).remove()}},"I changed my mind"):r.a.createElement(D.a,{color:"green",onClick:function(){v.b.ref("/rooms/".concat(e,"/fcmUsers")).child(v.a.currentUser.uid).set(!0)}},"Yes, I do"),r.a.createElement(D.a,{onClick:c},"Close"))))},Te=Object(n.memo)((function(){var e=ke((function(e){return e.name})),t=ke((function(e){return e.isAdmin})),a=U("(max-width: 992px)");return r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement("h4",{className:"text-disappear d-flex align-items-center"},r.a.createElement(I.a,{componentClass:o.b,to:"/",icon:"arrow-circle-left",size:"2x",className:a?"d-inline-block p-0 mr-2 text-blue link-unstyled":"d-none"}),r.a.createElement("span",{className:"text-disappear"},e)),r.a.createElement(he.a,{className:"ws-nowrap"},r.a.createElement(Se,null),t&&r.a.createElement(je,null))),r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},t&&r.a.createElement(Ce,null),r.a.createElement(Oe,null)))})),De=a(383),Ie=function(e){var t=e.afterUpload,a=Object(i.h)().chatId,c=A(),l=c.isOpen,o=c.close,s=c.open,u=Object(n.useState)([]),m=Object(b.a)(u,2),d=m[0],h=m[1],E=Object(n.useState)(!1),g=Object(b.a)(E,2),k=g[0],O=g[1],j=function(){var e=Object(p.a)(f.a.mark((function e(){var n,r,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0===d.length&&T.a.error("no file is choosen!!!"),e.prev=1,n=d.map((function(e){return v.e.ref("/chat/".concat(a)).child(Date.now()+e.name).put(e.blobFile,{cacheControl:"public, max-age=".concat(259200)})})),e.next=5,Promise.all(n);case 5:return r=e.sent,c=r.map(function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.metadata.contentType,e.t1=t.metadata.name,e.next=4,t.ref.getDownloadURL();case 4:return e.t2=e.sent,e.abrupt("return",{contentType:e.t0,name:e.t1,url:e.t2});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Promise.all(c);case 9:return l=e.sent,e.next=12,t(l);case 12:O(!1),h([]),o(),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),O(!1),T.a.error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a.Button,{onClick:s},r.a.createElement(I.a,{icon:"attachment"})),r.a.createElement(V.a,{show:l,onHide:o},r.a.createElement(V.a.Header,null,r.a.createElement(V.a.Title,null,"Upload files")),r.a.createElement(V.a.Body,null,r.a.createElement(De.a,{autoUpload:!1,action:"",fileList:d,onChange:function(e){var t=e.filter((function(e){return e.blobFile.size<=512e4})).slice(0,5);h(t)},multiple:!0,listType:"picture-text",className:"w-100",disabled:k})),r.a.createElement(V.a.Footer,null,r.a.createElement(D.a,{block:!0,disabled:k||!!d,onClick:j},"Send to chat"),r.a.createElement("div",{className:"text-right mt-2"},r.a.createElement("small",null,"* only files less than 5 mb are allowed")))))},Le=a(196),Ae=function(e){var t=e.afterUpload,a=Object(i.h)().chatId,c=Object(n.useState)(!1),l=Object(b.a)(c,2),o=l[0],s=l[1],u=Object(n.useState)(!1),m=Object(b.a)(u,2),d=m[0],h=m[1],E=Object(n.useCallback)((function(){s((function(e){return!e}))}),[]),g=Object(n.useCallback)(function(){var e=Object(p.a)(f.a.mark((function e(n){var r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,v.e.ref("/chat/".concat(a)).child("audio_".concat(Date.now(),".mp3")).put(n.blob,{cacheControl:"public, max-age=".concat(259200)});case 4:return r=e.sent,e.t0=r.metadata.contentType,e.t1=r.metadata.name,e.next=9,r.ref.getDownloadURL();case 9:e.t2=e.sent,c={contentType:e.t0,name:e.t1,url:e.t2},h(!1),t([c]),e.next=19;break;case 15:e.prev=15,e.t3=e.catch(1),h(!1),T.a.error(e.t3.message);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),[t,a]);return r.a.createElement(F.a.Button,{onClick:E,disabled:d,className:o?"animate-blink":""},r.a.createElement(I.a,{icon:"microphone"}),r.a.createElement(Le.ReactMic,{record:o,className:"d-none",onStop:g,mimeType:"audio/mp3"}))};function Ue(e,t){return{roomId:t,author:Object(B.a)({name:e.name,uid:e.uid,createdAt:e.createdAt},e.avatar?{avatar:e.avatar}:{}),createdAt:E.a.database.ServerValue.TIMESTAMP,likeCount:0}}var Fe=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(b.a)(l,2),s=o[0],u=o[1],m=Object(i.h)().chatId,d=x().profile,h=Object(n.useCallback)((function(e){c(e)}),[]),E=function(){var e=Object(p.a)(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a.trim()){e.next=2;break}return e.abrupt("return");case 2:return(t=Ue(d,m)).text=a,n={},r=v.b.ref("messages").push().key,n["/messages/".concat(r)]=t,n["/rooms/".concat(m,"/lastMessage")]=Object(B.a)(Object(B.a)({},t),{},{msgId:r}),u(!0),e.prev=9,e.next=12,v.b.ref().update(n);case 12:c(""),u(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(9),u(!1),T.a.error(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(){return e.apply(this,arguments)}}(),g=Object(n.useCallback)(function(){var e=Object(p.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),a={},t.forEach((function(e){var t=Ue(d,m);t.file=e;var n=v.b.ref("messages").push().key;a["/messages/".concat(n)]=t})),n=Object.keys(a).pop(),a["/rooms/".concat(m,"/lastMessage")]=Object(B.a)(Object(B.a)({},a[n]),{},{msgId:n}),e.prev=5,e.next=8,v.b.ref().update(a);case 8:u(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),u(!1),T.a.error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}(),[m,d]);return r.a.createElement("div",null,r.a.createElement(F.a,null,r.a.createElement(Ie,{afterUpload:g}),r.a.createElement(Ae,{afterUpload:g}),r.a.createElement(H.a,{placeholder:"Write a new message here...",value:a,onChange:h,onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),E())}}),r.a.createElement(F.a.Button,{color:"blue",appearance:"primary",onClick:E,disabled:s},r.a.createElement(I.a,{icon:"send"}))))},He=a(200),Me=function(e){var t=e.profile,a=e.children,n=Object(s.a)(e,["profile","children"]),c=A(),l=c.isOpen,o=c.close,i=c.open,u=t.name,m=t.avatar,d=t.createdAt,f=t.name.split(" ")[0],p=new Date(d).toLocaleDateString();return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,Object.assign({},n,{onClick:i}),f),r.a.createElement(V.a,{show:l,onHide:o},r.a.createElement(V.a.Header,null,r.a.createElement(V.a.Title,null,f," profile")),r.a.createElement(V.a.Body,{className:"text-center"},r.a.createElement(G,{src:m,name:u,className:"width-200 height-200 img-fullsize font-huge"}),r.a.createElement("h4",{className:"mt-2"},u),r.a.createElement("p",null,"Member since ",p)),r.a.createElement(V.a.Footer,null,a,r.a.createElement(D.a,{block:!0,onClick:o},"Close"))))},Re=a(193),Be=a(204),ze=a(391),Pe=function(e){if(!e)return"gray";switch(e.state){case"online":return"green";case"offline":return"red";default:return"gray"}},Ve=function(e){return e?"online"===e.state?"Online":"Last online ".concat(new Date(e.last_changed).toLocaleDateString()):"Unknown state"},qe=function(e){var t=function(e){var t=Object(n.useState)(null),a=Object(b.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t=v.b.ref("/status/".concat(e));return t.on("value",(function(e){if(e.exists()){var t=e.val();c(t)}})),function(){t.off()}}),[e]),r}(e.uid);return r.a.createElement(Re.a,{placement:"top",trigger:"hover",speaker:r.a.createElement(Be.a,null,Ve(t))},r.a.createElement(ze.a,{className:"cursor-pointer",style:{backgroundColor:Pe(t)}}))},Ye=function(e){var t=e.condition,a=e.children;return t?r.a.createElement(ze.a,{content:t},a):a},Qe=function(e){var t=e.isVisible,a=e.iconName,n=e.tooltip,c=e.onClick,l=e.badgeContent,o=Object(s.a)(e,["isVisible","iconName","tooltip","onClick","badgeContent"]);return r.a.createElement("div",{className:"ml-2",style:{visibility:t?"visible":"hidden"}},r.a.createElement(Ye,{condition:l},r.a.createElement(Re.a,{placement:"top",delay:0,delayHide:0,delayShow:0,trigger:"hover",speaker:r.a.createElement(Be.a,null,n)},r.a.createElement(Ne.a,Object.assign({},o,{onClick:c,circle:!0,size:"xs",icon:r.a.createElement(I.a,{icon:a})})))))},_e=function(e){var t=e.src,a=e.fileName,n=A(),c=n.isOpen,l=n.open,o=n.close;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"image",src:t,alt:"file",onClick:l,className:"mw-100 mh-100 w-auto"}),r.a.createElement(V.a,{show:c,onHide:o},r.a.createElement(V.a.Header,null,r.a.createElement(V.a.Title,null,a)),r.a.createElement(V.a.Body,null,r.a.createElement("div",null,r.a.createElement("img",{src:t,height:"100%",width:"100%",alt:"file"}))),r.a.createElement(V.a.Footer,null,r.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},"View original"))))},Ge=Object(n.memo)((function(e){var t=e.message,a=e.handleAdmin,c=e.handleLike,l=e.handleDelete,o=t.author,i=t.createdAt,s=t.text,u=t.file,m=t.likes,d=t.likeCount,f=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useRef)(null),l=function(){return r(!0)},o=function(){return r(!1)};return Object(n.useEffect)((function(){var e=c.current;return e&&(e.addEventListener("mouseover",l),e.addEventListener("mouseout",o)),function(){e.removeEventListener("mouseover",l),e.removeEventListener("mouseout",o)}}),[c.current]),[c,a]}(),p=Object(b.a)(f,2),h=p[0],E=p[1],g=U("(max-width: 992px)"),k=ke((function(e){return e.isAdmin})),O=ke((function(e){return e.admins})).includes(o.uid),j=v.a.currentUser.uid===o.uid,x=k&&!j,w=g||E,y=m&&Object.keys(m).includes(v.a.currentUser.uid);return r.a.createElement("li",{className:"padded mb-1 cursor-pointer ".concat(E?"bg-black-02":""),ref:h},r.a.createElement("div",{className:"d-flex align-items-center font-bolder mb-1"},r.a.createElement(qe,{uid:o.uid}),r.a.createElement(G,{src:o.avatar,name:o.name,className:"ml-1",size:"xs"}),r.a.createElement(Me,{profile:o,appearance:"link",className:"p-0 ml-1 text-black"},x&&r.a.createElement(D.a,{block:!0,onClick:function(){return a(o.uid)},color:"blue"},O?"Remove admin permission":"Give admin in this room")),r.a.createElement(se.a,{datetime:i,className:"font-normal text-black-45 ml-2"}),r.a.createElement(Qe,Object.assign({},y?{color:"red"}:{},{isVisible:w,iconName:"heart",tooltip:"Like this message",onClick:function(){return c(t.id)},badgeContent:d})),j&&r.a.createElement(Qe,{isVisible:w,iconName:"close",tooltip:"Delete this message",onClick:function(){return l(t.id,u)}})),r.a.createElement("div",null,s&&r.a.createElement("span",{className:"word-breal-all"},s),u&&function(e){return e.contentType.includes("image")?r.a.createElement("div",{className:"height-220"},r.a.createElement(_e,{src:e.url,fileName:e.name})):e.contentType.includes("audio")?r.a.createElement("audio",{controls:!0},r.a.createElement("source",{src:e.url,type:"audio/mp3"}),"Your browser does not support the audio element."):r.a.createElement("a",{href:e.url},"Download ",e.name)}(u)))})),Ke=v.b.ref("/messages");var Je=function(){var e=Object(i.h)().chatId,t=Object(n.useState)(null),a=Object(b.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(15),s=Object(b.a)(o,2),u=s[0],m=s[1],d=Object(n.useRef)(),h=c&&0===c.length,E=c&&c.length>0,g=Object(n.useCallback)((function(t){var a=d.current;Ke.off(),Ke.orderByChild("roomId").equalTo(e).limitToLast(t||15).on("value",(function(e){var t=Object(_.f)(e.val());l(t),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,a=100*e.scrollTop/(e.scrollHeight-e.clientHeight)||0;return a>t}(a)&&(a.scrollTop=a.scrollHeight)})),m((function(e){return e+15}))}),[e]),k=Object(n.useCallback)((function(){var e=d.current,t=e.scrollHeight;g(u),setTimeout((function(){var a=e.scrollHeight;e.scrollTop=a-t}),200)}),[g,u]);Object(n.useEffect)((function(){var e=d.current;return g(),setTimeout((function(){e.scrollTop=e.scrollHeight}),200),function(){Ke.off("value")}}),[g]);var O=Object(n.useCallback)(function(){var t=Object(p.a)(f.a.mark((function t(a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=v.b.ref("/rooms/".concat(e,"/admins")),t.next=3,n.transaction((function(e){return e&&(e[a]?(e[a]=null,r="Admin permission removed"):(e[a]=!0,r="Admin permission granted")),e}));case 3:T.a.info(r,4e3);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),j=Object(n.useCallback)(function(){var e=Object(p.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=v.a.currentUser.uid,n=v.b.ref("/messages/".concat(t)),e.next=4,n.transaction((function(e){return e&&(e.likes&&e.likes[a]?(e.likeCount-=1,e.likes[a]=null,r="Like removed"):(e.likeCount+=1,e.likes||(e.likes={}),e.likes[a]=!0,r="Like added")),e}));case 4:T.a.info(r,4e3);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),x=Object(n.useCallback)(function(){var t=Object(p.a)(f.a.mark((function t(a,n){var r,l,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Delete this message?")){t.next=2;break}return t.abrupt("return");case 2:return r=c[c.length-1].id===a,(l={})["/messages/".concat(a)]=null,r&&c.length>1&&(l["/rooms/".concat(e,"/lastMessage")]=Object(B.a)(Object(B.a)({},c[c.length-2]),{},{msgId:c[c.length-2].id})),r&&1===c.length&&(l["/rooms/".concat(e,"/lastMessage")]=null),t.prev=7,t.next=10,v.b.ref().update(l);case 10:T.a.info("Message has been deleted"),t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(7),t.abrupt("return",T.a.error(t.t0.message));case 16:if(!n){t.next=26;break}return t.prev=17,o=v.e.refFromURL(n.url),t.next=21,o.delete();case 21:t.next=26;break;case 23:t.prev=23,t.t1=t.catch(17),T.a.error(t.t1.message);case 26:case"end":return t.stop()}}),t,null,[[7,13],[17,23]])})));return function(e,a){return t.apply(this,arguments)}}(),[e,c]);return r.a.createElement("ul",{ref:d,className:"msg-list custom-scroll"},c&&c.length>=15&&r.a.createElement("li",{className:"text-center mt-2 mb-2"},r.a.createElement(D.a,{onClick:k,color:"green"},"Load more")),h&&r.a.createElement("li",null,"No messages yet"),E&&function(){var e=Object(_.c)(c,(function(e){return new Date(e.createdAt).toDateString()})),t=[];return Object.keys(e).forEach((function(a){t.push(r.a.createElement("li",{key:a,className:"text-center mb-1 padded"},a));var n=e[a].map((function(e){return r.a.createElement(Ge,{key:e.id,message:e,handleAdmin:O,handleLike:j,handleDelete:x})}));t.push.apply(t,Object(He.a)(n))})),t}())},We=function(){var e=Object(i.h)().chatId,t=fe();if(!t)return r.a.createElement(m.a,{center:!0,vertical:!0,size:"md",content:"Loading",speed:"slow"});var a=t.find((function(t){return t.id===e}));if(!a)return r.a.createElement("h6",{className:"text-center mt-page"},"Chat ",e," not found");var n=a.name,c=a.description,l=Object(_.e)(a.admins),o=Object(_.e)(a.fcmUsers),s=l.includes(v.a.currentUser.uid),u={name:n,description:c,admins:l,isAdmin:s,isReceivingFcm:o.includes(v.a.currentUser.uid)};return r.a.createElement(ge,{data:u},r.a.createElement("div",{className:"chat-top"},r.a.createElement(Te,null)),r.a.createElement("div",{className:"chat-middle"},r.a.createElement(Je,null)),r.a.createElement("div",{className:"chat-bottom"},r.a.createElement(Fe,null)))},Ze=function(){var e=U("(min-width: 992px)"),t=Object(i.i)().isExact,a=e||t;return r.a.createElement(de,null,r.a.createElement(y.a,{fluid:!0,className:"h-100"},r.a.createElement(C.a,{className:"h-100"},a&&r.a.createElement(N.a,{xs:24,md:8,className:"h-100"},r.a.createElement(be,null)),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/chat/:chatId"},r.a.createElement(N.a,{xs:24,md:16,className:"h-100"},r.a.createElement(We,null))),r.a.createElement(i.b,null,e&&r.a.createElement(N.a,{xs:24,md:16,className:"h-100"},r.a.createElement("h6",{className:"text-center mt-page"},"Please select chat")))))))},Xe=function(e){var t=e.children,a=Object(s.a)(e,["children"]),n=x(),c=n.profile,l=n.isLoading;return l&&!c?r.a.createElement(u.a,null,r.a.createElement(m.a,{center:!0,vertical:!0,size:"md",content:"Loading",speed:"slow"})):c&&!l?r.a.createElement(i.a,{to:"/"}):r.a.createElement(i.b,a,t)},$e=a(197),et=a(198),tt=a(203),at=a(199),nt=function(e){Object(tt.a)(a,e);var t=Object(at.a)(a);function a(e){var n;return Object($e.a)(this,a),(n=t.call(this,e)).state={error:null,errorInfo:null},n}return Object(et.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?r.a.createElement("div",null,r.a.createElement("h2",null,"Something went wrong."),r.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},this.state.error&&this.state.error.toString(),r.a.createElement("br",null),this.state.errorInfo.componentStack)):this.props.children}}]),a}(r.a.Component),rt=Object(n.lazy)((function(){return a.e(3).then(a.bind(null,408))}));var ct=function(){return r.a.createElement(nt,null,r.a.createElement(j,null,r.a.createElement(i.d,null,r.a.createElement(Xe,{path:"/signin"},r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(rt,null))),r.a.createElement(w,{path:"/"},r.a.createElement(Ze,null)))))};l.a.render(r.a.createElement(o.a,null,r.a.createElement(ct,null)),document.getElementById("root"))},7:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"d",(function(){return d}));var n=a(376),r=a(24),c=a.n(r),l=(a(213),a(215),a(374),a(373),a(218),a(20)),o=c.a.initializeApp({apiKey:"AIzaSyDLQOk87ZgE6Kk-HcGLRbZXfEixTVdeXss",authDomain:"chat-app-262f4.firebaseapp.com",databaseURL:"https://chat-app-262f4.firebaseio.com",projectId:"chat-app-262f4",storageBucket:"chat-app-262f4.appspot.com",messagingSenderId:"580771480498",appId:"1:580771480498:web:b0ec51b7bf973c9e515aab"}),i=o.auth(),s=o.database(),u=o.storage(),m=o.functions("us-central"),d=c.a.messaging.isSupported()?o.messaging():null;d&&(d.usePublicVapidKey("BFkqc2CCmb9sZQ4xDjR3YQYgpemB6uoQSY52d349DYaPufQRwSmdQ17ZEuiRJGEtVcCzrdcmXY4zqeVYPfQYsmE"),d.onMessage((function(e){var t=e.notification,a=t.title,r=t.body;n.a.info({title:a,description:r,duration:0})}))),l.d&&m.useFunctionsEmulator("http://localhost:5001")}},[[206,1,2]]]);
//# sourceMappingURL=main.3f8bba25.chunk.js.map